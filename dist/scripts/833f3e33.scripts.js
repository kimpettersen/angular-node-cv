angular.module("adminServices",["ngResource"]).factory("adminService",function(a){var b={};return b.resource={},b.tags=[],b.bucketlist={},b.education={},b.experience={},b.me={},b.user={},b.bucketlist.resource=a("/api/bucketlist/:id",{id:"@_id"},{edit:{method:"PUT"}}),b.education.resource=a("/api/education/:id",{id:"@_id"},{edit:{method:"PUT"}}),b.experience.resource=a("/api/experience/:id",{id:"@_id"},{edit:{method:"PUT"}}),b.me.resource=a("/api/me/:id",{id:"@_id"},{edit:{method:"PUT"}}),b.user.resource=a("/api/user/:id",{id:"@_id"},{edit:{method:"PUT"}}),b.updateResources=function(a){b[a].resource.query(function(c){b[a].resources=c})},b.findById=function(a){var c=b[a.type].resources;if(c===undefined)return;for(var d=0;d<c.length;d++)if(c[d]._id===a.id)return c[d]},b.createResource=function(a,c){if(a.item===undefined||a.type===undefined)return c("You need to specify an item and type {item: {}, type: String}");var d=angular.copy(a.item);b[a.type].resource.save(d,function(){return b.updateResources(a.type),c("Succesfully created a new "+a.type)},function(a){return c("Server returned status code: "+a.status+"\n"+a.data.error)})},b.editResource=function(a,c){if(a.item===undefined||a.type===undefined)return c("You need to specify an item and type {item: {}, type: String}");var d=angular.copy(a.item);if(!d.hasOwnProperty("_id"))return c("Can not modify non existing item");b[a.type].resource.edit(d,function(){return b.updateResources(a.type),c("Succesfully edited "+a.type)})},b.editItem=function(a){b[a.type].item=b.findById(a)},b.delItem=function(a,c){if(a.id===undefined||a.type===undefined)return c("You need to specify an item and type {item: {}, type: String}");b[a.type].resource.remove({id:a.id},function(){return b.updateResources(a.type),c("Succesfully deleted item")})},b}).directive("resources",function(){return{scope:{list:"=",display:"@",edit:"&",del:"&",show:"&",type:"@"},template:'<div ng-repeat="elem in list">Name: {{ elem[display] }} <button class="btn" ng-click="edit({ item: {id: elem._id, type: type } })">Show</button>  <button class="btn" ng-click="del({ item: {id: elem._id, type: type } })">Delete</button> </div>'}}),angular.module("mainServices",["ngResource"]).factory("mainService",function(a){var b={};return b.bucketlist={},b.education={},b.experience={},b.me={},b.user={},b.bucketlist.resource=a("/api/bucketlist/:id"),b.education.resource=a("/api/education/:id"),b.experience.resource=a("/api/experience/:id"),b.me.resource=a("/api/me/:id"),b.user.resource=a("/api/user/:id"),b.get=function(a){return b[a.type].resource.query()},b}),"use strict";var CVApp=angular.module("CVApp",["adminServices","mainServices"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/main",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/documentation",{templateUrl:"views/documentation.html",controller:"DocCtrl"}).when("/admin",{templateUrl:"views/admin.html"}).otherwise({redirectTo:"/"})}]);"use strict",CVApp.controller("MainCtrl",function(a,b){a.about=b.get({type:"me"}),a.education=b.get({type:"education"}),a.experience=b.get({type:"experience"}),a.bucketlist=b.get({type:"bucketlist"}),console.log(b.get({type:"bucketlist"}))}),"use strict",CVApp.controller("DocCtrl",function(a){}),"use strict",CVApp.controller("MenuCtrl",function(a,b){a.changeView=function(a){b.path(a)}}),"use strict",CVApp.controller("BucketlistCtrl",function(a,b){a.adminService=b,a.ratings=[1,2,3,4,5],a.adminService.updateResources("bucketlist"),a.currentItem={},a.status="",a.show=function(c){a.currentItem=b.findById(c)},a.edit=function(c){a.currentItem=b.findById(c),b.editItem(c)},a.editResource=function(c){b.editResource(c,function(b){a.status=b})},a.createResource=function(c){b.createResource(c,function(b){a.status=b})}}),"use strict",CVApp.controller("EducationCtrl",function(a,b){a.adminService=b,a.adminService.updateResources("education"),a.currentItem={},a.tags=[],a.status="",a.addTag=function(b){a.currentItem.tags||(a.currentItem.tags=[]),a.currentItem.tags.push(b)},a.removeTag=function(b){console.log(b,"sss");for(var c=0;c<a.currentItem.tags.length;c++)a.currentItem.tags[c]===b&&a.currentItem.tags.splice(c,1)},a.editResource=function(c){a.currentItem=b.findById({type:"education",id:c.item._id}),b.editResource(c,function(b){a.status=b})},a.createResource=function(c){c.item.tags=a.tags,b.createResource(c,function(b){a.status=b})},a.edit=function(c){a.tags=[],a.currentItem=b.findById(c),b.editItem(c)}}),"use strict",CVApp.controller("ExperienceCtrl",function(a,b){a.adminService=b,a.adminService.updateResources("experience"),a.currentItem={},a.tags=[],a.status="",a.addTag=function(b){a.currentItem.tags||(a.currentItem.tags=[]),a.currentItem.tags.push(b)},a.removeTag=function(b){for(var c=0;c<a.currentItem.tags.length;c++)a.currentItem.tags[c]===b&&a.currentItem.tags.splice(c,1)},a.editResource=function(c){a.currentItem=b.findById({type:"experience",id:c.item._id}),b.editResource(c,function(b){a.status=b})},a.createResource=function(c){c.item.tags=a.tags,b.createResource(c,function(b){a.status=b})},a.edit=function(c){a.tags=[],a.currentItem=b.findById(c),b.editItem(c)}}),"use strict",CVApp.controller("MeCtrl",function(a,b){a.adminService=b,a.adminService.updateResources("me"),a.currentItem={},a.tags=[],a.status="",a.addTag=function(b){a.currentItem.tags||(a.currentItem.tags=[]),a.currentItem.tags.push(b)},a.removeTag=function(b){for(var c=0;c<a.currentItem.tags.length;c++)a.currentItem.tags[c]===b&&a.currentItem.tags.splice(c,1)},a.editResource=function(c){a.currentItem=b.findById({type:"me",id:c.item._id}),b.editResource(c,function(b){a.status=b})},a.createResource=function(c){c.item.tags=a.tags,b.createResource(c,function(b){a.status=b})},a.edit=function(c){a.tags=[],a.currentItem=b.findById(c),b.editItem(c)}}),"use strict",CVApp.controller("UserCtrl",function(a,b){a.adminService=b,a.adminService.updateResources("user"),a.currentItem={},a.status="",a.show=function(c){a.currentItem=b.findById(c)},a.edit=function(c){a.currentItem=b.findById(c),b.editItem(c)},a.editResource=function(c){b.editResource(c,function(b){a.status=b})},a.createResource=function(c){b.createResource(c,function(b){a.status=b})}});